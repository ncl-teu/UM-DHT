# plab-mdht
- 主に，IPFS/libp2pにおいて，階層型DHT上でコンテンツルックアップを
  - より高速に
  - churn耐性をもつ
  
ことを目指して実現するプロジェクトです．研究テーマは3つあり，私の申請書の日本語訳を書いておきます．
## T1. Kademlia DHTにおけるRTTとオーバーレイホップ数を考慮したルックアップ最適化：
モビリティを考慮したRTTとオーバーレイホップ数の両方を考慮したピア選択手法を実装する．スーパーピアがグループ内の反復リクエストルーティングの基点であると仮定して，各ピアが**スーパーピアからのRTTが小さく，IDが近いピア同士の距離を持つピアグループ**を構築する．あるピアとスーパーピアとの間のRTTが移動によって閾値を超えると，ピアは，**そのファイル，ピアポインタ，およびk-バケットをグループ内の「最も近い」ピア**に委譲する．そして，それは，どのグループに所属すべきかを hydrabooster 内のHydora-Peerに問い合わせる．して，新しいピアグループのスーパーピアによって，新しいピアIDがそれに割り当てられる．

## T2. 多階層DHTにおけるコンテンツID範囲とピアグループの対応付けのための命名法: 
本提案では，各ピアが適切にグループ化されていれば，リクエストの伝播を制限することで，ルックアップの伝播時間を短縮することができる．本提案では，コンテンツを保持しているピアグループに検索要求が転送されるように，新たな命名方式を開発する．具体的には，コンテンツIDごとに階層的名前方式をKademlia DHTに追加する．検索リクエストが「/area ID/content ID」を持つ場合，そのエリアIDで指定されたピアグループ内のスーパーピアに転送され，積極的にレコードを収穫するHydra-Peerに依頼することでスーパーピアを見つけることができる．本提案では，エリアごとにコンテンツIDの範囲を設定し，特定のエリアのピアのコンテンツが置かれた場合，他のピアはまずそのエリアIDを検索する．このようなネーミングスキームを実装し，go-libp2pに組み込む．

## T3. 投入時間の長さと人気度に基づいたコンテンツ複製優先度によるChurn耐性の確保:
Churnの弊害の一つとして，ルーティングテーブルの不整合によるルックアップ失敗がある．コンテンツのPUT/GETリクエストに冗長性を持たせることは，この問題を解決するために一定の利点があるが，問題は冗長性をどのように調整するかということである．これに対して，我々は，
- (i)コンテンツGETリクエストに優先順位をつけること，
- (ii)コンテンツPUT/GETリクエストの冗長性を調整せずに，ルックアップヒット率を向上させるためにコンテンツキャッシュを積極的に展開すること，

を考えています．コンテンツを保持している "新鮮"なピア（すなわち，新たに参加したピア）にＧＥＴリクエストが到着した場合，"新鮮"なピアがすぐにネットワークを離れる可能性があるため，同じグループ内の別のピア上のコンテンツを高い優先度でコンテンツ複製する．このようにして，各ピアには，参加時間に基づいた複製優先度が割り当てられる．また，「古い」ピアが人気のあるコンテンツを持っている場合は，人気のあるコンテンツの提供による高負荷を分散させる必要があるため，そのコンテンツも高い優先度で複製する．コンテンツの優先度は，GETリクエストが到着するとインクリメントされ，時間の経過とともにデクリメントされる．優先度がある閾値を超えると，コンテンツを複製する．このようにして，各ピアの鮮度と各コンテンツの人気度のバランスを考慮して，重み付けされた優先度を設定する．
# 概要の図
![overview](https://user-images.githubusercontent.com/4952618/92360631-1ade8d00-f128-11ea-84ca-03d3a5bbe12f.jpg)
